# screen prefix key
unbind C-b
set -g prefix C-a
bind C-a send-prefix # if C-a again, send it through

# mouse mode on
setw -g mode-mouse on

# reload
bind r source-file ~/.tmux.conf

# change foreground-background for the current window
#setw -g window-status-current-attr reverse
setw -g monitor-activity on

setw -g mode-keys vi

# stop renaming the windows automatically damnit
set-option -g allow-rename off

# sane mouse scrolling within pane
#setw -g mode-mouse on

# mouse reporting in iterm2
#set -g mouse-utf8 on

# set active pane border to blue
set-option -g pane-active-border-fg blue

# vi bindings for copy mode
unbind [
bind Escape copy-mode
# vi bindings for selection
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection

unbind p
bind p paste-buffer

# copying/pasting to Mac clipboard
# http://unix.stackexchange.com/a/32451
set-option -g default-command "reattach-to-user-namespace -l zsh" # or bash...
bind y run-shell "tmux save-buffer - | reattach-to-user-namespace pbcopy"
#bind p run "pbpaste | tmux load-buffer - && tmux paste-buffer"

# list all paste buffers (default key is '#')
bind-key b list-buffers

# choose buffer to paste interactively (default key was '=')
bind-key v choose-buffer

# Titles {{{
set-option -g set-titles on
set-option -g set-titles-string '#W(#P) - #T'
set-window-option -g automatic-rename on
# }}}

# Set status bar {{{
set -g status-bg blue
set -g status-fg white
set -g status-left '#[fg=green]#'
set-window-option -g window-status-current-bg red

# highlight status bar on activity
#set -g visual-activity on

# enable color in tmux
# http://superuser.com/questions/399296/256-color-support-for-vim-background-in-tmux
set -g default-terminal "screen-256color"

# hsplit
unbind %
bind | split-window -h

# vsplit
unbind '"'
bind _ split-window -v

# use the vim motion keys to move between panes
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# resize pane
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Theme {{{

# load tmuxline theme
if-shell "test -f ~/.tmuxline.conf" "source ~/.tmuxline.conf"

# }}}
